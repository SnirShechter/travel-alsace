# Alsace Wine Route Travel Assistant ğŸ·ğŸ‡«ğŸ‡·

## Vision
××¤×œ×™×§×¦×™×™×ª ××¡×¢ ××™× ×˜×¨××§×˜×™×‘×™×ª ×œ-Route des Vins d'Alsace â€” 170 ×§"× ×©×œ ×›×¤×¨×™× ××™××™ ×”×‘×™× ×™×™×, ×™×§×‘×™× ×¢×•×œ××™×™×, ××•×›×œ ××œ×–×¡×™ ××“×”×™× ×•× ×•×¤×™× ×©××’×™×¢×™× ××”××’×“×•×ª. ×œ× ×¢×•×“ Google Sheet ×¢× ×œ×™× ×§×™× â€” ××œ× ×—×•×•×™×” ×××™×ª×™×ª ×©××¨×’×™×©×” ×›××• ××“×¨×™×š ×˜×™×•×œ×™× ××™×©×™.

## Core Features

### 1. ğŸ—ºï¸ ××¤×” ××™× ×˜×¨××§×˜×™×‘×™×ª
- ××¤×ª Wine Route ××œ××” ×¢× ×›×œ ×”-POIs
- ×§×˜×’×•×¨×™×•×ª: ×›×¤×¨×™×, ×™×§×‘×™×, ××¡×¢×“×•×ª/Winstubs, ×œ×™× ×”, ×ª×¦×¤×™×•×ª, ×—× ×™×•× ×™×
- ×¤×™×œ×˜×¨ ×œ×¤×™ ×§×˜×’×•×¨×™×”, ×“×™×¨×•×’, ××¨×—×§
- × ×™×•×•×˜ ×™×©×™×¨ (×¤×ª×™×—×ª Google Maps/Waze)

### 2. ğŸ¤– AI Travel Assistant (Chat)
- ×¦'××˜ ×—×›× ×©××›×™×¨ ××ª ×”××–×•×¨ ×œ×¢×•××§
- "××™×¤×” ×”×›×™ ×©×•×•×” ×œ××›×•×œ Tarte FlambÃ©e ×œ×™×“ Colmar?"
- "×ª×›× ×Ÿ ×œ×™ ×™×•× ×©×œ ×˜×¢×™××•×ª ×™×™×Ÿ + ××¨×•×—×ª ×¦×”×¨×™×™×"
- "××” ×©×•×•×” ×œ×¨××•×ª ×× ×™×© ×œ× ×• ×¨×§ 3 ×©×¢×•×ª ×‘-Riquewihr?"
- × ×©×¢×Ÿ ×¢×œ ×××’×¨ ××™×“×¢ ××§×•××™ + AI model

### 3. ğŸ“‹ ×‘× ×™×™×ª ××¡×œ×•×œ (Itinerary Builder)
- Drag & drop ×©×œ POIs ×œ×™×•× ×¡×¤×¦×™×¤×™
- ×—×™×©×•×‘ ×–×× ×™ × ×¡×™×¢×” ××•×˜×•××˜×™
- ×”×¢×¨×›×ª ×–××Ÿ ×‘×™×§×•×¨ ×œ×›×œ × ×§×•×“×”
- ×©×™×ª×•×£ ××¡×œ×•×œ ×¢× ×—×‘×¨×™× (link/QR)
- ×™×™×¦×•× ×œ-PDF

### 4. ğŸ· ××“×¨×™×š ×™×™× ×•×ª ××œ×–×¡
- 7 ×–× ×™ ×”×¢× ×‘×™×: Riesling, GewÃ¼rztraminer, Pinot Gris, Muscat, Pinot Blanc, Pinot Noir, Sylvaner
- Grands Crus (51 ××–×•×¨×™ ×§×¨×•)
- "××” ×œ×˜×¢×•× ××™×¤×”" â€” ×”××œ×¦×•×ª ×œ×¤×™ ×™×§×‘
- ××™×œ×•×Ÿ ××•× ×—×™× ×œ×˜×™×¢××™×

### 5. ğŸ½ï¸ ××“×¨×™×š ××•×›×œ
- ×××›×œ×™× ××¡×•×¨×ª×™×™×: Tarte FlambÃ©e, Choucroute Garnie, Baeckeoffe, Kougelhopf, Bretzel, Munster
- Winstubs ××•××œ×¦×•×ª
- ××¡×¢×“×•×ª ××™×©×œ×Ÿ ×‘××–×•×¨
- Street food ×•×©×•×•×§×™×

### 6. ğŸ“Œ Bookmarks & Notes
- ×©××™×¨×ª ××§×•××•×ª ××•×¢×“×¤×™×
- ×”×•×¡×¤×ª ×”×¢×¨×•×ª ××™×©×™×•×ª
- "×‘×™×§×¨× ×• ×›××Ÿ" âœ“ ×¦'×§×œ×™×¡×˜
- ×ª××•× ×•×ª ××”×‘×™×§×•×¨

## POI Database â€” ×”× ×§×•×“×•×ª ×”×¢×™×§×¨×™×•×ª

### ×›×¤×¨×™× (Must-See)
| ×›×¤×¨ | ×¨××” | ×–××Ÿ ××•××œ×¥ | ×”×™×™×—×•×“ |
|------|------|------------|---------|
| **Colmar** | â­â­â­ | 3-5 ×©×¢×•×ª | "×•× ×¦×™×” ×”×§×˜× ×”", ×‘×ª×™ ×¢×¥ ×¦×‘×¢×•× ×™×™×, ××•×–×™××•× ×™× |
| **Eguisheim** | â­â­â­ | 1.5-2 ×©×¢×•×ª | ×›×¤×¨ ×‘×¦×•×¨×ª ×—×™×œ×–×•×Ÿ, "×”×›×¤×¨ ×”××”×•×‘ ×‘×¦×¨×¤×ª 2013" |
| **Riquewihr** | â­â­â­ | 2-3 ×©×¢×•×ª | "×¤× ×™× ×ª ×”×›×¨×", ×—×•××•×ª ××™××™ ×”×‘×™× ×™×™× |
| **Kaysersberg** | â­â­â­ | 2-3 ×©×¢×•×ª | "×”×›×¤×¨ ×”××”×•×‘ ×‘×¦×¨×¤×ª 2017", ×˜×™×¨×”, ×’×©×¨ ××‘×•×¦×¨ |
| **RibeauvillÃ©** | â­â­ | 1.5-2 ×©×¢×•×ª | 3 ×˜×™×¨×•×ª, ×¤×¡×˜×™×‘×œ Pfifferdaj |
| **Turckheim** | â­â­ | 1-1.5 ×©×¢×•×ª | ×©×•××¨ ×”×œ×™×œ×”, ×©×¢×¨×™ ×”×¢×™×¨ |
| **Obernai** | â­â­ | 1.5-2 ×©×¢×•×ª | ×›×™×›×¨ ×”×©×•×§, ×›× ×¡×™×™×ª SS Pierre et Paul |
| **Bergheim** | â­ | 1 ×©×¢×” | ×—×•××•×ª ×©×œ××•×ª, Grands Crus Altenberg/Kanzlerberg |
| **Hunawihr** | â­ | 45 ×“×§×•×ª | ×›× ×¡×™×™×” ××‘×•×¦×¨×ª ××”×××” ×”-15, ××¨×›×– ×”×—×¡×™×“×•×ª |
| **Mittelbergheim** | â­ | 45 ×“×§×•×ª | ×›×¤×¨ ×©×§×˜, Grand Cru Zotzenberg |
| **Andlau** | â­ | 1 ×©×¢×” | ×× ×–×¨, Grand Cru Kastelberg |

### ×™×§×‘×™× ××•××œ×¦×™×
- **Domaine Weinbach** (Kaysersberg) â€” Grands Crus, ××©×¤×—×ª×™
- **Domaine Zind-Humbrecht** (Turckheim) â€” ×‘×™×•×“×™× ××™, ×¢×•×œ××™
- **Trimbach** (RibeauvillÃ©) â€” Riesling Clos Sainte Hune ×”××’×“×™
- **Hugel & Fils** (Riquewihr) â€” ×-1639, ×”×™×¡×˜×•×¨×™
- **Marcel Deiss** (Bergheim) â€” ×—×“×©× ×™, Field blends
- **Albert Mann** (Wettolsheim) â€” ×‘×™×•×“×™× ××™
- **Domaine Bott-Geyl** (Beblenheim) â€” ×‘×™×•×“×™× ××™
- **Maison Louis Sipp** (RibeauvillÃ©) â€” ××œ×’× ×˜×™

### ×××›×œ×™× ×—×•×‘×”
- ğŸ”¥ **Tarte FlambÃ©e** (Flammekueche) â€” "×”×¤×™×¦×” ×”××œ×–×¡×™×ª", ×©×× ×ª+×‘×¦×œ+×œ×¨×“×•×Ÿ
- ğŸ¥¬ **Choucroute Garnie** â€” ×›×¨×•×‘ ×›×‘×•×© + × ×§× ×™×§×™×•×ª + ×‘×©×¨ ×—×–×™×¨
- ğŸ² **Baeckeoffe** â€” ×ª×‘×©×™×œ 3 ×‘×©×¨×™× + ×™×¨×§×•×ª + ×™×™×Ÿ ×œ×‘×Ÿ (××•×›×Ÿ ×™×•× ×§×•×“×)
- ğŸ§€ **Munster** â€” ×’×‘×™× ×” ×¨×›×” ×—×¨×™×¤×” ××”×•×•×–'
- ğŸ¥¨ **Bretzel** â€” ×”×¤×¨×¦×œ ×”××œ×–×¡×™, ×¢× ××œ×— ×’×¡
- ğŸ° **Kougelhopf** â€” ×¢×•×’×ª ×©××¨×™× ××¤×•××¨×ª (××ª×•×§×”/××œ×•×—×”)
- ğŸ¥§ **Tarte aux Quetsches** â€” ×˜××¨×˜ ×©×–×™×¤×™× ×¡×’×•×œ×™× (×¢×•× ×ª×™)

## Trip Details
- **×ª××¨×™×›×™×:** 14-23 ×‘××¤×¨×™×œ 2026 (10 ×™××™×)
- **××˜×™×™×œ×™×:** ×™×•××‘ ×•××“×™ (×—×‘×¨×™× ×©×œ ×©× ×™×¨)
- **×¢×•× ×”:** ××‘×™×‘ â€” ×¤×¨×™×—×ª ×“×•×‘×“×‘× ×™×, ×›×¨××™× ××ª×—×™×œ×™× ×œ×”×•×¨×™×§, ×œ× ×¦×¤×•×£
- **×—×©×•×‘:** PWA + Offline-ready â€” ×¦×¨×™×š ×œ×¢×‘×•×“ ×‘×œ×™ ××™× ×˜×¨× ×˜ (××¤×” + POIs + ××¡×œ×•×œ)

## Tech Stack
- **Frontend:** React 19 + Vite + Tailwind v4 + **PWA (Workbox)**
- **Backend:** Hono (Node.js)
- **DB:** PostgreSQL (POIs, itineraries, bookmarks)
- **Map:** Leaflet + OpenStreetMap tiles + **leaflet.offline** (tile caching)
- **AI:** OpenAI API (GPT-4o) for chat assistant
- **Maps API:** Google Maps Directions API (for driving times/routes)
- **Auth:** None required (open access) â€” simple share links for itineraries
- **Deployment:** Dokploy, `travel.snir.sh`
- **Offline:** Service Worker + IndexedDB for POI data + cached map tiles for Alsace region

## UI/UX
- **×©×¤×”:** ×¢×‘×¨×™×ª (RTL) ×›×‘×¨×™×¨×ª ××—×“×œ, English toggle
- **×¡×’× ×•×Ÿ:** Warm & elegant â€” ×¦×‘×¢×™ ×™×™×Ÿ (×‘×•×¨×“×•, ×–×”×‘, ×§×¨×)
- **Mobile-first** â€” ×”×›×™ ×—×©×•×‘ ×©×™×”×™×” × ×•×— ×‘×˜×œ×¤×•×Ÿ ×‘×–××Ÿ ×”×˜×™×•×œ
- **Navigation tabs:**
  - ğŸ—ºï¸ ××¤×”
  - ğŸ¤– ××¡×™×¡×˜× ×˜
  - ğŸ“‹ ×”××¡×œ×•×œ ×©×œ×™
  - ğŸ· ××“×¨×™×š
  - â­ ××•×¢×“×¤×™×

## Database Schema

```sql
-- POIs (pre-populated)
CREATE TABLE pois (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  name_he TEXT,
  category TEXT NOT NULL, -- village, winery, restaurant, accommodation, viewpoint, parking
  subcategory TEXT, -- winstub, michelin, grand_cru, etc.
  lat DECIMAL(10,7) NOT NULL,
  lng DECIMAL(10,7) NOT NULL,
  description TEXT,
  description_he TEXT,
  rating DECIMAL(2,1), -- 1-5
  visit_duration_min INT, -- estimated minutes
  address TEXT,
  phone TEXT,
  website TEXT,
  opening_hours JSONB,
  price_range TEXT, -- â‚¬, â‚¬â‚¬, â‚¬â‚¬â‚¬
  wine_varieties TEXT[], -- for wineries
  food_specialties TEXT[], -- for restaurants
  images TEXT[], -- URLs
  tags TEXT[], -- searchable tags
  must_see BOOLEAN DEFAULT false,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- User itineraries
CREATE TABLE itineraries (
  id SERIAL PRIMARY KEY,
  user_sub TEXT NOT NULL,
  name TEXT NOT NULL,
  start_date DATE,
  end_date DATE,
  share_token TEXT UNIQUE, -- for sharing
  created_at TIMESTAMPTZ DEFAULT now()
);

-- Itinerary days with ordered stops
CREATE TABLE itinerary_stops (
  id SERIAL PRIMARY KEY,
  itinerary_id INT REFERENCES itineraries(id) ON DELETE CASCADE,
  poi_id INT REFERENCES pois(id),
  day_number INT NOT NULL,
  order_index INT NOT NULL,
  notes TEXT,
  visit_duration_min INT -- override
);

-- Bookmarks
CREATE TABLE bookmarks (
  id SERIAL PRIMARY KEY,
  user_sub TEXT NOT NULL,
  poi_id INT REFERENCES pois(id) ON DELETE CASCADE,
  visited BOOLEAN DEFAULT false,
  notes TEXT,
  created_at TIMESTAMPTZ DEFAULT now(),
  UNIQUE(user_sub, poi_id)
);

-- Chat history (per user)
CREATE TABLE chat_messages (
  id SERIAL PRIMARY KEY,
  user_sub TEXT NOT NULL,
  role TEXT NOT NULL, -- user, assistant, system
  content TEXT NOT NULL,
  created_at TIMESTAMPTZ DEFAULT now()
);
```

## AI System Prompt
```
You are a travel assistant specializing in the Alsace Wine Route (Route des Vins d'Alsace) in eastern France. You have deep knowledge of:
- All villages along the 170km route
- Wineries, grape varieties, and Grands Crus
- Traditional Alsatian cuisine and restaurants
- Practical travel tips (parking, timing, seasons)
- Cultural events and festivals

Respond in the user's language (Hebrew or English). Be warm, enthusiastic, and specific. Always give actionable recommendations with names, locations, and practical tips. When suggesting itineraries, consider travel time between stops.
```

## Implementation Phases
1. **Phase 1:** Backend + DB + POI seed data + basic API
2. **Phase 2:** Frontend shell + map with POIs + filters
3. **Phase 3:** Itinerary builder (CRUD + drag & drop)
4. **Phase 4:** AI chat assistant
5. **Phase 5:** Bookmarks + visited tracking
6. **Phase 6:** Sharing (link/QR/PDF export)
7. **Phase 7:** Polish â€” animations, images, wine guide pages

## Pre-populated Data
- ~50 POIs with coordinates, descriptions in Hebrew + English
- Wine variety guide content
- Food guide content
- All data compiled from research + official tourism sites
